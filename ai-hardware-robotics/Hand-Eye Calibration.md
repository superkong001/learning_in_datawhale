## 手眼标定理论

### 手眼标定的定义

手眼标定（Hand-Eye Calibration）是机器人视觉应用中的一个基础且关键的问题，主要用于统一视觉系统与机器人的坐标系，具体来说，就是确定摄像头与机器人的相对姿态关系。

> 当我们希望使用视觉引导机器人去抓取物体时，需要知道三个相对位置关系，即
> 
> 1. 末端执行器与机器人底座之间相对位置关系
> 2. 摄像头与末端执行器之间相对位置关系
> 3. 物体与摄像头之间的相对位置和方向
> 
> 手眼标定主要解决其中第二个问题，即确定“手”与安装在其上“眼”之间的空间变换关系，即求解相机坐标系和机器人坐标系之间的变换矩阵。  这里的机器人末端执行器称为手，摄像头称为眼。

根据摄像头安装方式的不同，手眼标定分为两种形式：
1. 摄像头安装在机械手末端，称之为眼在手上（Eye in hand）
2. 摄像头安装在机械臂外的机器人底座上，则称之为眼在手外（Eye to hand）

### 手眼标定的数学模型

不管是眼在手上还是眼在手外，它们求解的数学方程是一样的，都为 $AH = HB$ ，首先定义如下坐标系：

$F_b$: **基座坐标系**(Base Frame)，固定在机械臂的底座上，是机械臂运动的全局参考坐标系。

$F_e$: **末端执行器坐标系**(End-Effector Frame)，固定在机械臂末端，比如机械爪、工具尖端等。

$F_c$: **相机坐标系**（Camera Frame），固定在相机光心处，用于视觉感知的坐标系。

$F_t$: **标定目标坐标系**（Calibration Target Frame），固定在标定目标（如棋盘格、圆点板）上。

坐标系之间的关系通常用齐次变换矩阵（刚体变换）T表示：

$$
T^i_j =
\begin{bmatrix}
R^i_j & t^i_j \\
0 & 1
\end{bmatrix}
$$

其中：
- $R^i_j$ ：3×3 旋转矩阵，描述坐标系 j 相对于 i 的旋转；
- $t^i_j$ ：3×1 平移向量，描述坐标系 j 相对于 i 的平移；
- $𝑖,𝑗$ ：分别代表起点与终点坐标系。

T的上下标表示变换是对于哪两个坐标系，例如：
- $T^e_c$：表示将相机坐标系转换到末端执行器坐标系的变换，也表示相机在末端执行器坐标系下的位姿，在眼在手上这种情形下，就是要求的目标矩阵。

其中 $R ∈ SO(3)$ , $t ∈ \R^{3}$ ,分别对应旋转变换与平移变换。T的上下标表示变换是对于哪两个坐标系，例如:

$T^e_c$:将相机坐标系转换到末端执行器坐标系的变换，也表示相机在末端执行器坐标系下的位姿，在眼在手上这种情形下，就是要求的目标矩阵。




